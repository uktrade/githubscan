services:
  githubscan:
    image: python:3.10
    container_name: githubscan
    hostname: githubscan
    env_file:
      - .env
    environment:
      - DATABASE_URL=postgres://githubscan_db/githubscan
    dns:
      - 8.8.8.8
      - 4.4.4.4
    stdin_open: true
    tty: true
    links:
      - githubscan_db
    depends_on:
      - githubscan_db

  githubscan_db:
    image: postgres:14.8
    container_name: githubscan_db
    hostname: githubscan_db
    environment:
      - POSTGRES_USER=root
      - POSTGRES_HOST_AUTH_METHOD=trust
      - POSTGRES_DB=githubscan
    ports:
      - 5432:5432
